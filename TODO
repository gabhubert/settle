# preview

  [ ] finish cli
    [ ] pay command
    [x] cli install
    [x] register command
    [x] Mint-Protocol-Version header
  [ ] finish register
    [ ] roll user
    [ ] site credentials page
    [ ] setup loggly
    [x] retrieve user
    [x] setup LetsEncrypt
    [x] send email on create user
  [ ] finish mint
    [ ] mint transaction creation refactor
    [ ] setup loggly
    [x] setup LetsEncrypt
    [x] Mint-Protocol-Version header
  [ ] finish site
    [ ] have the get started guide on github, to generate stars?
    [ ] credentials page
    [ ] blog post draft
    [ ] setup loggly
  [ ] send r?

# cli

  [ ] pay command
  [?] add confirmations to actions
  [x] cli install
  [x] register command
  [x] Mint-Protocol-Version header
  [x] logout command
  [x] fix get parameter for common
  [x] list balances

# register

  [ ] roll user
  [ ] site credentials page
  [x] retrieve user
  [x] setup LetsEncrypt
  [x] send email on create user

# mint

  [ ] refactor transaction creation/settlement
  [~] list endpoint
    [ ] list asset operations
    [x] list asset offers (order book)
    [x] list asset balances
    [x] list balances
    [x] list assets
  [x] Mint-Protocol-Version header
  [x] default LetsEncrypt SSL cert provisioning in production
  [x] default self-signed cert provisioning in QA
  [x] retrieve asset publicly
  [x] fix offer fixup on transaction expiration
  [x] split endpoints between creation and propagation
  [x] balance propogation
  [x] pass DSN for DB, support Postgres
  [x] check expiry at settlement
  [x] check expiry of transactions at creation
  [x] transaction expiration
  [x] async proceses
  [x] propagation protocol for both operations and offers
  [x] idempotency of propagation (load offer/operation and save if they exist and return 200)
  [x] validate asset is created when creating offer and test
  [x] figure out when to set the offer as consumed (multiple crossings might be reserved)
  [x] remove user from records entirely?
  [x] remove the ability to create an operation directly?
  [x] transaction starting from an asset not owned by owner
  [x] janitorial work on test extractions (assert instead of fatal)
  [x] enforce we handle hops in order (we handle them all)
  [x] enforce the hops belong to the right mint
  [x] secure concurrent transaction settlement
  [x] secure concurrent transaction creation and settlement
  [x] transaction settlement
  [x] transaction locks
  [x] transaction creation
  [x] replace 1000*1000 by protocol constant
  [x] log prefix (mint)
  [x] make user optional for propagated transactions (or other objects)
  [x] move status values to protocol
  [x] move Execute to ctx
  [x] remove nil from creation operation, prevent issuer from owning balance
  [x] rename Normalized something Address to Owner
  [x] split controller into endpoint.CreateXXX object with Execute and Validate
  [x] move mint host to context

  # tests

    [ ] test failing nodes (A,B,C)
      [ ] B gives different offer price to A and C
      [ ] B fails reservation entirely
      [ ] B pass reservation through but fails responding to C
    [ ] offer closing + attempt transaction on it
    [ ] offer closing of an offer not owned by caller
    [ ] test that consumes an offer entirely (check status)
    [~] transaction tests with misbehaving mint
    [x] test asset retrieval
    [x] test settling an expired transaction
    [x] transaction expiration and balance fixup
    [x] transaction expiration and offer fixup
    [x] test async offer/operation propagation
    [x] operation propagation
    [x] offer propagation
    [x] concurrent call to transaction settlement attack test
    [x] test settlement with erroneous secret
    [x] concurrent call to transaction creation attack test
    [x] test transaction that uses the same user twice
    [x] test transaction that uses more than what is left on an offer
    [x] make the DB a context value that can be created independently for tests
    [x] find a way to set the MintHost after start or set the mux after creating the httptest.Server
    [x] support in memory db

  # async processes

    [x] offer propagation
    [x] operation propagation
    [x] transaction expiry

# site

  [ ] have the get started guide on github, to generate stars?
  [ ] credentials page
  [ ] blog post draft

# r? preview

  dm
  gdb
  rauchg
  gabhubert
  acavailhez
  kwi
  gyril
  migliris

# admin

  renew production certificates
    cd /home/mint && sudo ../spolu/go/bin/lego --email="polu.stanislas@gmail.com" --domains="m.settle.network" renew
  allow 443 to register
    sudo setcap CAP_NET_BIND_SERVICE=+eip /home/mint/go/bin/register
